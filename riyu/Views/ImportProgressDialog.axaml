<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:riyu.ViewModels"
             x:Class="riyu.Views.ImportProgressDialog"
             x:DataType="vm:MainViewModel"
             mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="200">

  <!-- 导入进度对话框内容 - 桌面端尺寸 -->
  <Border Background="White"
          CornerRadius="12"
          BoxShadow="0 8 32 0 #40000000"
          Width="400"
          Height="200"
          Margin="{Binding DialogTranslateY, Converter={StaticResource MarginConverter}}"
          Opacity="{Binding DialogOpacity}">
    
    <!-- 滑动和淡入动画支持 -->
    <Border.Transitions>
      <Transitions>
        <ThicknessTransition Property="Margin" 
                           Duration="0:0:0.6" 
                           Easing="QuinticEaseOut"/>
        <DoubleTransition Property="Opacity" 
                         Duration="0:0:0.5" 
                         Easing="CubicEaseOut"/>
      </Transitions>
    </Border.Transitions>
    
    <StackPanel Spacing="20" 
                Margin="30"
                VerticalAlignment="Center">
      
      <!-- 标题 -->
      <TextBlock Text="导入Excel文件"
                 FontSize="18"
                 FontWeight="Bold"
                 HorizontalAlignment="Center"
                 Foreground="#2d2d2d"
                 FontFamily="{DynamicResource HarmonyOSBold}"/>
      
      <!-- 进度条 -->
      <StackPanel Spacing="10">
        <ProgressBar Height="6"
                     Background="#e1e5e9"
                     Foreground="#007ACC"
                     Value="{Binding ImportProgress}"
                     Minimum="0"
                     Maximum="100"
                     CornerRadius="3">
          <ProgressBar.Transitions>
            <Transitions>
              <DoubleTransition Property="Value" Duration="0:0:0.5" Easing="CubicEaseOut"/>
            </Transitions>
          </ProgressBar.Transitions>
        </ProgressBar>
        
        <!-- 状态文本 -->
        <TextBlock Text="{Binding ImportStatus}"
                   FontSize="14"
                   HorizontalAlignment="Center"
                   Foreground="#666666"
                   TextWrapping="Wrap"
                   FontFamily="{DynamicResource HarmonyOSRegular}"/>
      </StackPanel>
      
    </StackPanel>
  </Border>

</UserControl>